@using DotNetNuke.Entities.Modules
@{
    // Update or create the "hideadminborder" setting with the value "True"
    var currentModule = ModuleController.Instance.GetModule(Dnn.Module.ModuleID, Dnn.Module.TabID, false);
    if (currentModule != null && currentModule.TabModuleID > 0)
    {
        // Check if the "hideadminborder" setting is not set or is not "True"
        var currentSetting = currentModule.TabModuleSettings.ContainsKey("hideadminborder")
        ? currentModule.TabModuleSettings["hideadminborder"]
        : null;

        if (currentSetting == null || !currentSetting.ToString().Equals("True", StringComparison.OrdinalIgnoreCase))
        {
            // Update or create the "hideadminborder" setting with the value "True"
            ModuleController.Instance.UpdateTabModuleSetting(currentModule.TabModuleID, "hideadminborder", "True");
        }
    }
}

@if (!string.IsNullOrEmpty(Model.ModuleAnchor)) {
  <div id="@Model.ModuleAnchor"></div>
}
<section class="py-5 bg-light @Model.Settings.MarginTop @Model.Settings.MarginBottom @Model.Settings.PaddingTop @Model.Settings.PaddingBottom">
  <div class="container">
    <!-- Section Header -->
    <div class="text-center mb-4">
      <h2 class="heading-primary fw-bold mb-2">
        <i class="fas fa-microphone-alt me-2 text-primary" aria-hidden="true"></i>
        Meet Our Next Speakers
      </h2>
      <p class="lead text-muted mb-0">
        Catch inspiration and insights from fellow SCBNG members at our upcoming meeting!
      </p>
    </div>

    <!-- Speaker Cards -->
    <div class="row mt-4 justify-content-center">
      @if (Model.Speakers != null)
      {
        var counter = 0;
        foreach (var speaker in Model.Speakers)
        {
          counter++;
          <div class="col-md-5 mb-4" data-appear-animation="fadeInUp" data-appear-animation-delay="@(counter * 200)">
            <div class="card shadow-sm h-100 border-0 p-4">
              <div class="card-body text-center">
                <!-- Role Label -->
                <h5 class="heading-secondary fw-bold text-primary mb-2">@speaker.SpeakerRole</h5>
                <p class="text-muted mb-3">@speaker.RoleDescription</p>

                <!-- Avatar -->
                @if (!string.IsNullOrEmpty(speaker.MemberPage))
                {
                  <a href="@speaker.MemberPage" aria-label="Learn more about @speaker.MemberName">
                    <img src="@speaker.Image" alt="@speaker.MemberName – @speaker.MemberTitle at @speaker.CompanyName"
                      class="rounded-circle shadow mb-3" style="width: 120px; height: 120px; object-fit: cover;" loading="lazy" decoding="async" />
                  </a>
                }
                else
                {
                  <img src="@speaker.Image" alt="@speaker.MemberName – @speaker.MemberTitle at @speaker.CompanyName"
                    class="rounded-circle shadow mb-3" style="width: 120px; height: 120px; object-fit: cover;" loading="lazy" decoding="async" />
                }

                <!-- Name, Title, Company -->
                <h5 class="heading-secondary fw-bold mb-1">@speaker.MemberName</h5>
                <p class="fw-semibold text-primary mb-0">@speaker.MemberTitle</p>
                <p class="text-muted mb-3">@speaker.CompanyName</p>

                <!-- Links -->
                <div class="d-flex justify-content-center flex-wrap gap-2">
                  @if (!string.IsNullOrEmpty(speaker.MemberPage))
                  {
                    <a href="@speaker.MemberPage" class="btn btn-outline-primary btn-sm" aria-label="Visit member page for @speaker.MemberName">
                      <i class="fas fa-id-card me-1"></i> Member Page
                    </a>
                  }
                </div>
              </div>
            </div>
          </div>
        }
      }
      else
      {
        <div class="col text-center">
          <p class="text-muted">Speakers for the next meeting haven’t been confirmed yet. Check back soon!</p>
        </div>
      }
    </div>

    <!-- Footer Note -->
    <div class="text-center mt-4">
      <small class="text-muted"><em>Interested in speaking?</em> Members can sign up by logging in, and entering the <strong>Growth Dashboard</strong>.</small>
    </div>
  </div>
</section>

@*
<div class="dnnClear">
    @ObjectInfo.Print(Model)
</div>
*@